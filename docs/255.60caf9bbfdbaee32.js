"use strict";(self.webpackChunkQuiz_angular=self.webpackChunkQuiz_angular||[]).push([[255],{2255:(U,v,s)=>{s.r(v),s.d(v,{UserModule:()=>C});var h=s(6814),a=s(2058),e=s(95),u=s(9468),_=s(4855),w=s(1093);const A=function(n){return{"border-color":n}},y=function(n){return{display:n}};let B=(()=>{class n{constructor(o,l,r){this.authService=o,this.router=l,this._snackBar=r,this.loginForm=new e.cw({email:new e.NI("",[e.kI.email,e.kI.required]),password:new e.NI("",[e.kI.pattern(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{8,}$/),e.kI.required])})}login(){this.loginForm.valid&&this.loginForm.value.email&&this.loginForm.value.password&&this.authService.login(this.loginForm.value.email,this.loginForm.value.password).subscribe({next:o=>{if(o.error||!o.accessToken||!o.refreshToken||!o.fullName||!o.userId)throw this._snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438"),new Error(o.message?o.message:" Error with data on login");this.router.navigate(["/choice"])},error:o=>{throw this._snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438"),new Error(o.error.message)}})}static#u=this.\u0275fac=function(l){return new(l||n)(u.Y36(_.e),u.Y36(a.F0),u.Y36(w.ux))};static#e=this.\u0275cmp=u.Xpm({type:n,selectors:[["app-login"]],decls:29,vars:14,consts:[[1,"form",3,"formGroup"],[1,"container"],[1,"form-content"],[1,"form-title","common-title"],[1,"form-details"],[1,"form-group",3,"ngStyle"],["type","text","id","email","formControlName","email",1,"form-input"],["for","email",1,"form-label"],["id","email-error",1,"form-error",3,"ngStyle"],["type","password","id","password","formControlName","password",1,"form-input"],["for","password",1,"form-label"],["id","password-error",1,"form-error",3,"ngStyle"],[1,"form-button"],["id","process",1,"button",3,"disabled","click"],[1,"form-link"],["routerLink","/signup"],[1,"form-image"],["src","/assets/images/info-image.png","alt","Personage"]],template:function(l,r){if(1&l&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3)(4,"span"),u._uU(5,"\u0412\u0445\u043e\u0434"),u.qZA(),u._uU(6," \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443"),u.qZA(),u.TgZ(7,"div",4)(8,"div",5),u._UZ(9,"input",6),u.TgZ(10,"label",7),u._uU(11,"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430"),u.qZA()(),u.TgZ(12,"span",8),u._uU(13,"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 email"),u.qZA(),u.TgZ(14,"div",5),u._UZ(15,"input",9),u.TgZ(16,"label",10),u._uU(17,"\u041f\u0430\u0440\u043e\u043b\u044c"),u.qZA()(),u.TgZ(18,"span",11),u._uU(19,"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"),u.qZA()(),u.TgZ(20,"div",12)(21,"button",13),u.NdJ("click",function(){return r.login()}),u._uU(22,"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0432\u044b\u0431\u043e\u0440\u0443 \u0442\u0435\u0441\u0442\u0430"),u.qZA()(),u.TgZ(23,"div",14),u._uU(24,"\u041d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430? "),u.TgZ(25,"a",15),u._uU(26,"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"),u.qZA()()(),u.TgZ(27,"div",16),u._UZ(28,"img",17),u.qZA()()()),2&l){let i,m,t,g;u.Q6J("formGroup",r.loginForm),u.xp6(8),u.Q6J("ngStyle",u.VKq(6,A,null!=(i=r.loginForm.get("email"))&&i.invalid&&(null!=(i=r.loginForm.get("email"))&&i.dirty||null!=(i=r.loginForm.get("email"))&&i.touched)?"red":"")),u.xp6(4),u.Q6J("ngStyle",u.VKq(8,y,null!=(m=r.loginForm.get("email"))&&null!=m.errors&&m.errors.email?"flex":"none")),u.xp6(2),u.Q6J("ngStyle",u.VKq(10,A,null!=(t=r.loginForm.get("password"))&&t.invalid&&(null!=(t=r.loginForm.get("password"))&&t.dirty||null!=(t=r.loginForm.get("password"))&&t.touched)?"red":"")),u.xp6(4),u.Q6J("ngStyle",u.VKq(12,y,null!=(g=r.loginForm.get("password"))&&null!=g.errors&&g.errors.pattern?"flex":"none")),u.xp6(3),u.Q6J("disabled",r.loginForm.invalid)}},dependencies:[h.PC,a.rH,e.Fj,e.JJ,e.JL,e.sg,e.u]})}return n})();const f=function(n){return{"border-color":n}},c=function(n){return{display:n}},E=[{path:"signup",component:(()=>{class n{constructor(o,l,r){this.authService=o,this.router=l,this._snackBar=r,this.signupForm=new e.cw({name:new e.NI("",[e.kI.pattern(/^[\u0410-\u042fA-Z][\u0430-\u044fa-z]+\s*$/),e.kI.required]),lastName:new e.NI("",[e.kI.pattern(/^[\u0410-\u042fA-Z][\u0430-\u044fa-z]+\s*$/),e.kI.required]),email:new e.NI("",[e.kI.email,e.kI.required]),password:new e.NI("",[e.kI.pattern(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{8,}$/),e.kI.required]),agree:new e.NI(!1,[e.kI.required])})}signup(){this.signupForm.valid&&this.signupForm.value.email&&this.signupForm.value.password&&this.signupForm.value.name&&this.signupForm.value.lastName&&this.authService.signup(this.signupForm.value.name,this.signupForm.value.lastName,this.signupForm.value.email,this.signupForm.value.password).subscribe({next:o=>{if(o){if(o.error||!o.user)throw this._snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438"),new Error(o.message?o.message:" Error with data on signup");this.signupForm.value.email&&this.signupForm.value.password&&this.authService.login(this.signupForm.value.email,this.signupForm.value.password).subscribe({next:l=>{if(l.error||!l.accessToken||!l.refreshToken||!l.fullName||!l.userId)throw this._snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438"),new Error(l.message?l.message:" Error with data on login");this.router.navigate(["/choice"])},error:l=>{throw this._snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438"),new Error(l.error.message)}})}},error:o=>{throw this._snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438"),new Error(o.error.message)}})}static#u=this.\u0275fac=function(l){return new(l||n)(u.Y36(_.e),u.Y36(a.F0),u.Y36(w.ux))};static#e=this.\u0275cmp=u.Xpm({type:n,selectors:[["app-signup"]],decls:45,vars:26,consts:[[1,"form",3,"formGroup"],[1,"container"],[1,"form-content"],[1,"form-title","common-title"],[1,"form-details"],[1,"form-group",3,"ngStyle"],["type","text","id","name","formControlName","name",1,"form-input"],["for","name",1,"form-label"],["id","name-error",1,"form-error",3,"ngStyle"],["type","text","id","last-name","formControlName","lastName",1,"form-input"],["for","last-name",1,"form-label"],["id","last-name-error",1,"form-error",3,"ngStyle"],["type","text","id","email","formControlName","email",1,"form-input"],["for","email",1,"form-label"],["id","email-error",1,"form-error",3,"ngStyle"],["type","password","id","password","formControlName","password",1,"form-input"],["for","password",1,"form-label"],["id","password-error",1,"form-error",3,"ngStyle"],[1,"form-agree"],["type","checkbox","id","agree","formControlName","agree","required",""],["for","agree"],["href","#"],[1,"form-button"],["id","process",1,"button",3,"disabled","click"],[1,"form-link"],["routerLink","/login"],[1,"form-image"],["src","/assets/images/info-image.png","alt","Personage"]],template:function(l,r){if(1&l&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),u._uU(4,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),u.qZA(),u.TgZ(5,"div",4)(6,"div",5),u._UZ(7,"input",6),u.TgZ(8,"label",7),u._uU(9,"\u0418\u043c\u044f"),u.qZA()(),u.TgZ(10,"span",8),u._uU(11,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u0438\u043c\u044f"),u.qZA(),u.TgZ(12,"div",5),u._UZ(13,"input",9),u.TgZ(14,"label",10),u._uU(15,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),u.qZA()(),u.TgZ(16,"span",11),u._uU(17,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u0444\u0430\u043c\u0438\u043b\u0438\u044e"),u.qZA(),u.TgZ(18,"div",5),u._UZ(19,"input",12),u.TgZ(20,"label",13),u._uU(21,"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430"),u.qZA()(),u.TgZ(22,"span",14),u._uU(23,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b"),u.qZA(),u.TgZ(24,"div",5),u._UZ(25,"input",15),u.TgZ(26,"label",16),u._uU(27,"\u041f\u0430\u0440\u043e\u043b\u044c"),u.qZA()(),u.TgZ(28,"span",17),u._uU(29,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0446\u0438\u0444\u0440\u044b, \u043f\u0440\u043e\u043f\u0438\u0441\u043d\u044b\u0435 \u0438 \u0437\u0430\u0433\u043b\u0430\u0432\u043d\u044b\u0435 \u0431\u0443\u043a\u0432\u044b, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b"),u.qZA(),u.TgZ(30,"div",18),u._UZ(31,"input",19),u.TgZ(32,"label",20),u._uU(33," \u042f \u043e\u0437\u043d\u0430\u043a\u043e\u043c\u043b\u0435\u043d "),u.TgZ(34,"a",21),u._uU(35,"\u0441 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c\u0438 \u0441\u0430\u0439\u0442\u0430"),u.qZA()()()(),u.TgZ(36,"div",22)(37,"button",23),u.NdJ("click",function(){return r.signup()}),u._uU(38,"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0432\u044b\u0431\u043e\u0440\u0443 \u0442\u0435\u0441\u0442\u0430"),u.qZA()(),u.TgZ(39,"div",24),u._uU(40,"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? "),u.TgZ(41,"a",25),u._uU(42,"\u0412\u043e\u0439\u0442\u0438"),u.qZA()()(),u.TgZ(43,"div",26),u._UZ(44,"img",27),u.qZA()()()),2&l){let i,m,t,g,p,F,d,Z;u.Q6J("formGroup",r.signupForm),u.xp6(6),u.Q6J("ngStyle",u.VKq(10,f,null!=(i=r.signupForm.get("name"))&&i.invalid&&(null!=(i=r.signupForm.get("name"))&&i.dirty||null!=(i=r.signupForm.get("name"))&&i.touched)?"red":"")),u.xp6(4),u.Q6J("ngStyle",u.VKq(12,c,null!=(m=r.signupForm.get("name"))&&null!=m.errors&&m.errors.pattern?"flex":"none")),u.xp6(2),u.Q6J("ngStyle",u.VKq(14,f,null!=(t=r.signupForm.get("lastName"))&&t.invalid&&(null!=(t=r.signupForm.get("lastName"))&&t.dirty||null!=(t=r.signupForm.get("lastName"))&&t.touched)?"red":"")),u.xp6(4),u.Q6J("ngStyle",u.VKq(16,c,null!=(g=r.signupForm.get("lastName"))&&null!=g.errors&&g.errors.pattern?"flex":"none")),u.xp6(2),u.Q6J("ngStyle",u.VKq(18,f,null!=(p=r.signupForm.get("email"))&&p.invalid&&(null!=(p=r.signupForm.get("email"))&&p.dirty||null!=(p=r.signupForm.get("email"))&&p.touched)?"red":"")),u.xp6(4),u.Q6J("ngStyle",u.VKq(20,c,null!=(F=r.signupForm.get("email"))&&null!=F.errors&&F.errors.email?"flex":"none")),u.xp6(2),u.Q6J("ngStyle",u.VKq(22,f,null!=(d=r.signupForm.get("password"))&&d.invalid&&(null!=(d=r.signupForm.get("password"))&&d.dirty||null!=(d=r.signupForm.get("password"))&&d.touched)?"red":"")),u.xp6(4),u.Q6J("ngStyle",u.VKq(24,c,null!=(Z=r.signupForm.get("password"))&&null!=Z.errors&&Z.errors.pattern?"flex":"none")),u.xp6(9),u.Q6J("disabled",r.signupForm.invalid)}},dependencies:[h.PC,a.rH,e.Fj,e.Wl,e.JJ,e.JL,e.Zs,e.sg,e.u]})}return n})()},{path:"login",component:B}];let T=(()=>{class n{static#u=this.\u0275fac=function(l){return new(l||n)};static#e=this.\u0275mod=u.oAB({type:n});static#r=this.\u0275inj=u.cJS({imports:[a.Bz.forChild(E),a.Bz]})}return n})(),C=(()=>{class n{static#u=this.\u0275fac=function(l){return new(l||n)};static#e=this.\u0275mod=u.oAB({type:n});static#r=this.\u0275inj=u.cJS({imports:[h.ez,a.Bz,e.UX,T]})}return n})()}}]);